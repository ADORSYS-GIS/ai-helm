global:
  version: "0.1.0"
  labels:
    app: lmcache
    team: adorsys-gis

deployment:
  name: "lmcache"
  replicaCount: 1
  image:
    repository: "lmcache/vllm-openai"
    tag: "2025-03-10"
    pullPolicy: IfNotPresent
  
  resources:
    requests:
      memory: "4Gi"
      cpu: "2000m"
      nvidia.com/gpu: "1"
    limits:
      memory: "8Gi"
      cpu: "4000m"
      nvidia.com/gpu: "1"
  
  # Health checks
  livenessProbe:
    enabled: true
    path: "/health"
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  
  readinessProbe:
    enabled: true
    path: "/health"
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3
  
  # Additional environment variables
  extraEnv: {}
  
  # Volume mounts for persistent storage
  volumeMounts: []
  
  # Volumes
  volumes: []
  
  # Node selection
  nodeSelector: {}
  
  # Tolerations for node taints
  tolerations: []
  
  # Pod affinity/anti-affinity
  affinity: {}

# LMCache specific configuration
lmcache:
  chunkSize: "256"
  localCpu: "True"
  localDisk: ""  # Set to "file:///path/to/cache" to enable
  maxLocalDiskSize: "0.0"  # GB, set > 0 to enable disk caching
  remoteUrl: ""  # Set to "protocol://host:port" to enable
  enableP2P: "False"
  lookupUrl: ""  # Required if enableP2P is True
  distributedUrl: ""  # Required if enableP2P is True

# Service configuration
service:
  type: ClusterIP
  port: 80
  targetPort: 8000
  annotations: {}

# Ingress configuration
ingress:
  enabled: false
  annotations: {}
  hosts:
    - host: lmcache.example.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: lmcache-example-com-secret
      hosts:
        - lmcache.example.com

# HTTPRoute configuration (for Gateway API)
httpRoute:
  enabled: false

# Service Account
serviceAccount:
  create: false
  name: ""

# Pod Security Context
podSecurityContext: {}

# Security Context
securityContext: {}

# Autoscaling
autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 10
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: 80
